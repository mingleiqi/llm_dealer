### 全市场范围筛选股票
1. 数据获取
   - 使用 get_full_realtime_data 函数获取市场全部行情数据
   - 对获取的数据进行初步筛选，去除以 ST 和 *ST 开头的股票

2. 查询解析
   - 分析用户的查询要求
   - 确定筛选分类，如价值投资、价值低估、市场活跃、市场热点等

3. 市场信息收集
   - 使用 get_market_news_300 获取最近的市场新闻
   - 使用 stock_market_desc 获取市场整体描述
   - 使用 summarize_historical_index_data 获取指数历史行情（如上证指数）

4. 个股分析
   - 对筛选后的每只股票进行循环处理：
     a. 使用"获取个股信息的函数"获取详细信息（如 get_stock_info, get_stock_a_indicators 等）
     b. 使用 summarize_historical_data 查询该股票的历史行情
     c. 结合个股数据、市场数据和查询要求，生成用于 LLM 评分的提示词
     d. 使用 llm_client.one_chat 进行评分和归纳，要求返回 JSON 格式的结果
     e. 解析 LLM 返回的结果，提取关键信息

5. 结果处理
   - 收集所有股票的评分结果
   - 对评分结果按照不同类别进行排序
   - 对每个类别，选择排名靠前的股票（如前5名）

6. 输出结果
   - 为每个类别返回筛选出的股票信息，包括：
     - 股票代码
     - 股票名称
     - 分类得分
     - 得分理由

注意事项：
- 确保所有步骤都考虑到查询的具体要求
- 在生成评分提示词时，要充分利用收集到的个股和市场数据
- LLM 评分结果应该输出为josn格式。便于于解析和后续处理
- 最终输出应该清晰、结构化，便于用户理解和使用

这些提示添加到所有tip_help之中
- code_tools.add(name,value)不允许添加重复的内容，在所有步骤中不允许重复，不能在循环内层中使用code_tools.add
- 对每支股票读取数据，如果需要在后续步骤使用，把这些数据存储于字典Dict[str,Any], 同一种类型只使用一次code_tools.add

### 百度热门股票短线推荐模板

1. 获取百度热门股票
   - 使用 get_baidu_hotrank 函数获取百度热门股票列表

2. 收集市场整体信息
   - 使用 stock_market_desc 获取市场整体描述
   - 使用 get_market_news_300 获取最近的市场新闻
   - 使用 summarize_historical_index_data 获取主要指数（如上证指数）的最近走势

3. 分析热门股票
   对每只热门股票进行以下分析：
   - 使用 get_stock_info 和 get_stock_a_indicators 获取股票的详细信息
   - 使用 summarize_historical_data 获取股票的近期历史数据
   - 使用 get_baidu_analysis_summary 获取百度对该股票的分析摘要
   - 获取股票的最新新闻（使用 get_stock_news）
   - 分析股票的近期走势、成交量变化、相对大盘的表现等

4. 短线潜力评估
   对每只热门股票进行短线潜力评估：
   - 生成评估提示词，包含股票信息、市场信息和短线投资的特定要求
   - 使用 llm_client.one_chat 进行评估，要求返回 JSON 格式的结果
   - 解析 LLM 返回的结果，提取关键信息如短线潜力评分、理由等

5. 筛选和排序
   - 根据短线潜力评分对股票进行排序
   - 考虑其他因素如成交量、市场关注度等进行综合排序

6. 生成推荐列表
   - 选择排名靠前的股票（如前5-10只）作为推荐
   - 对每只推荐的股票，整理以下信息：
     - 股票代码和名称
     - 短线潜力评分
     - 推荐理由
     - 需要关注的关键指标或事件

7. 风险提示
   - 生成针对短线投资的一般性风险提示
   - 结合当前市场情况，提供特定的风险警示

8. 输出结果
   - 生成一份结构化的报告，包含：
     - 市场整体情况概述
     - 推荐的股票列表及详细信息
     - 每只股票的短线投资建议
     - 风险提示

注意事项：
- 确保考虑短线投资的特性，如对市场情绪、热点事件的敏感性
- 在评估中应该特别注意股票的流动性和波动性
- 推荐应该基于综合因素，不仅仅是历史数据
- 清晰说明这只是基于当前数据的分析，不构成投资建议
- 强调短线投资的高风险性，建议用户进行进一步的研究和谨慎决策

这些提示添加到所有tip_help之中
- code_tools.add(name,value)不允许添加重复的内容，在所有步骤中不允许重复，不能在循环内层中使用code_tools.add
- 对每支股票读取数据，如果需要在后续步骤使用，把这些数据存储于字典Dict[str,Any], 同一种类型只使用一次code_tools.add

### 快速股票推荐流程模板

1. 获取热门股票列表
   - 使用 "适合用于选择股票范围的函数" 获取一批股票

2. 快速收集关键信息
   - 使用 stock_market_desc 获取市场整体描述
   - 对每只热门股票：
     - 使用 get_baidu_analysis_summary 获取百度分析摘要
     - 使用 summarize_historical_data 获取简要的历史数据摘要

3. 构建LLM分析提示词
   为每只股票创建一个简洁但信息丰富的提示词，包含：
   - 股票基本信息（代码、名称）
   - 个股实时行情数据摘要
   - 百度分析摘要
   - 历史数据摘要
   - 市场整体描述

4. LLM快速分析
   使用 llm_client.one_chat 进行分析，要求LLM：
   - 评估股票在query要求方面潜力
   - 给出0-100的评分
   - 提供简短的推荐理由（不超过50字）
   - 标识关键的风险因素
   - 返回结构化的JSON格式结果

5. 结果处理
   - 解析LLM返回的JSON结果
   - 根据评分对股票进行排序
   - 选择评分最高的前5只股票

6. 生成推荐报告
   创建一个简洁的推荐报告，包含：
   - 市场概况（基于 stock_market_desc 的摘要）
   - 推荐股票列表，每只股票包括：
     - 股票代码和名称
     - LLM评分
     - 简短推荐理由
     - 主要风险提示
   - 整体风险提醒

注意事项：
- 优化LLM提示词，确保能快速提取和分析关键信息
- 限制每只股票的分析时间，保持整体流程的快速性
- 强调LLM分析基于有限信息，推荐仅供参考
- 建议用户在做出投资决策前进行更深入的研究
- 清晰说明市场瞬息万变，推荐的时效性有限

这些提示添加到所有tip_help之中
- code_tools.add(name,value)不允许添加重复的内容，在所有步骤中不允许重复，不能在循环内层中使用code_tools.add
- 对每支股票读取数据，如果需要在后续步骤使用，把这些数据存储于字典Dict[str,Any], 同一种类型只使用一次code_tools.add